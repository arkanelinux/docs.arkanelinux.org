<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta property="og:title" content="Arkane Linux Documentation">
		<meta property="og:description" content="Arkane Linux documentation, patch notes and news.">
		<meta property="og:image" content="https://arkanelinux.org/img/branding/arkane-logo.webp">
		<title>Arkane Linux docs - Lore</title>
		<link rel="stylesheet" href="/style/main.css">
		<link rel="stylesheet" href="/style/fonts.css">
		<link rel="stylesheet" href="/style/responsive.css">
	</head>
	<body>
    <header>
    <div class="header_container">
      <div class="project_name">
      <p>Arkane Linux</p>
      </div>
      <div class="nav">
	      <a href="https://arkanelinux.org">Home</a>
	      <a href="https://arkanelinux.org/downloads">Download</a>
	      <a href="/" class="nav_selected">Docs</a>
	      <a href="https://github.com/arkanelinux/" target="_blank">GitHub</a>
      </div>
    </div>
    </header>
		<div class="center_container">
			<div class="main_container">
				<div class="navigator_container">
					<div class="navigator">
						<ul>
							<li>
								<span>Arkane Linux</span>
								<ul>
									<li>
										<a href="/">About</a>
									</li>
									<li>
										<a href="/lore" id="navigator_selected">Lore</a>
									</li>
									<li>
										<a href="/technical-overview">Technical overview</a>
									</li>
								</ul>
							</li>
							<li>
								<span>Arkdep</span>
								<ul>
									<li>
										<a href="/arkdep/arkdep-usage">Arkdep usage</a>
									</li>
									<li>
										<a href="/arkdep/arkdep-build-usage">Arkdep-build usage</a>
									</li>
									<li>
										<a href="/arkdep/repository">Arkdep repository</a>
									</li>
									<li>
										<a href="/arkdep/migrations">Arkdep migrations</a>
									</li>
									<li>
										<a href="/arkdep/installation">Installation</a>
									</li>
									<li>
										<a href="/arkdep/how-it-works">How it works</a>
									</li>
								</ul>
							</li>
							<li>
								<span>Patch notes</span>
								<ul>
									<li>
										<a href="/patches/arkdep">Arkdep</a>
									</li>
									<li>
										<a href="/patches/arkanelinux">Arkane Linux</a>
									</li>
									<li>
										<a href="/patches/os-installer-arkdep">os-installer-arkdep</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
				<div class="main">
					<h1>Arkane Linux lore</h1>
					<h2 class="hdated">Custom Arch ISO</h2>
					<span class="hdate">October 2022 - Januari 2023</span>
					<p>Arkane started off with me exploring the Arch Linux build tools, initially Arkane was a simple customized Arch ISO with a GUI installer.</p>
					<p>The first Arkane ISOs and installs were in configuration very similar to what Arkane still looks like today, a Fedora-esq default config, GNOME with all apps and features installed one would expect to have on a full featured desktop operating system, but nothing more than that.</p>
					<h2 class="hdated">x86-64-v3</h2>
					<span class="hdate">Januari 2023 - April 2023</span>
					<p>Yet this this quickly spiraled out of control in to attempting a full x86-64-v3 rebuild of Arch, this experiment got to the point of actually having the first bootable x86-64-v3 images, after which point I stopped development because the build tools were deeply flawed.</p>
					<p>The build tools were flawed due to a bug in Docker, very shortly after I started development on the "buildbot" tool Docker bugged which broke fakeroot, yet I decided to go ahead with the project anyway and just work around this issue. The results were predictable, applications were build in a polluted environment causing some to pull in additional dependencies.</p>
					<h2 class="hdated">Immutability and atomicity</h2>
					<span class="hdate">June 2023 - Today</span>
					<p>I was always a fan of immutable distros, I have used Fedora Silverblue since its initial release, and still happily run it today. So I decided to give immutability a try.</p>
					<p>First I evaluated existing tools, the most serious contender at the time being ABRoot. But it lacked documentation, I could not figure out how to use it, and I didn't feel like joining their Discord to ask them how it worked.</p>
					<p>So I started thinking myself how an immutable could be implemented, I knew Btrfs had subvolumes, so I did a web search to see if it was possible to boot in to a subvolume. The answer was yes. I manually performed the deployment process, installing an Arch system in to a subvolume with pacstrap, I set up a bootloader entry for it, and everything worked as expected. Now all I had to do was write tooling to perform subvolume exports and deploy them.</p>
					<p>From here on all the pieces just started to fall in place and everything was put in to code, any issues I encountered were trivial to solve, an immutable is surprisingly easy to implement. This tool would through a few names (Bttrfs, Arkanium) before eventually becoming Arkdep.</p>
				</div>
			</div>
		</div>
	</body>
</html>
