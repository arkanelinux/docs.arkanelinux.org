<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta property="og:title" content="Arkane Linux Documentation">
		<meta property="og:description" content="Arkane Linux documentation, patch notes and news.">
		<meta property="og:image" content="https://arkanelinux.org/img/branding/arkane-logo.webp">
		<title>Arkane Linux docs - Technical overview</title>
		<link rel="stylesheet" href="/style/main.css">
		<link rel="stylesheet" href="/style/fonts.css">
		<link rel="stylesheet" href="/style/responsive.css">
	</head>
	<body>
    <header>
    <div class="header_container">
      <div class="project_name">
      <p>Arkane Linux</p>
      </div>
      <div class="nav">
	      <a href="https://arkanelinux.org">Home</a>
	      <a href="https://arkanelinux.org/downloads">Download</a>
	      <a href="/" class="nav_selected">Docs</a>
	      <a href="https://github.com/arkanelinux/" target="_blank">GitHub</a>
      </div>
    </div>
    </header>
		<div class="center_container">
			<div class="main_container">
				<div class="navigator_container">
					<div class="navigator">
						<ul>
							<li>
								<span>Arkane Linux</span>
								<ul>
									<li>
										<a href="/">About</a>
									</li>
									<li>
										<a href="/lore">Lore</a>
									</li>
									<li>
										<a href="/technical-overview" id="navigator_selected">Technical overview</a>
									</li>
								</ul>
							</li>
							<li>
								<span>Arkdep</span>
								<ul>
									<li>
										<a href="/arkdep/arkdep-usage">Arkdep usage</a>
									</li>
									<li>
										<a href="/arkdep/arkdep-build-usage">Arkdep-build usage</a>
									</li>
									<li>
										<a href="/arkdep/repository">Arkdep repository</a>
									</li>
									<li>
										<a href="/arkdep/migrations">Arkdep migrations</a>
									</li>
									<li>
										<a href="/arkdep/installation">Installation</a>
									</li>
									<li>
										<a href="/arkdep/how-it-works">How it works</a>
									</li>
								</ul>
							</li>
							<li>
								<span>Patch notes</span>
								<ul>
									<li>
										<a href="/patches/arkdep">Arkdep</a>
									</li>
									<li>
										<a href="/patches/arkanelinux">Arkane Linux</a>
									</li>
									<li>
										<a href="/patches/os-installer-arkdep">os-installer-arkdep</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
				<div class="main">
					<h1>Technical overview</h1>
					<h2>GNOME desktop</h2>
					<p>The GNOME configuration ships a stock gnome-shell with the following notable tweaks;</p>
					<ul>
						<li>Dark mode by default.</li>
						<li>A custom wallpaper.</li>
						<li>On first boot most core apps are installed as Flatpaks from Flathub.</li>
						<li><code>mutter-dynamic-buffering</code> patches included.</li>
					</ul>
					<h2>Filesystem</h2>
					<p>The following changes are made to the filesystem to make it function in an immutable context.</p>
					<p>These directories are linked to another location;</p>
					<ul>
						<li><code>/opt</code> is symlinked to <code>/var/opt</code>.</li>
						<li><code>/srv</code> is symlinked to <code>/var/srv</code>.</li>
						<li><code>/mnt</code> is symlinked to <code>/var/mnt</code>.</li>
						<li><code>/usr/local</code> is symlinked to <code>/var/usrlocal</code>.</li>
					</ul>
					<p>These directories are subvolume which are mounted at boot using fstab, these volumes are shared between all deployments;</p>
					<ul>
						<li><code>/root</code> is a subvolume located at <code>/arkdep/shared/root</code>.</li>
						<li><code>/home</code> is a subvolume located at <code>/arkdep/shared/home</code>.</li>
						<li><code>/var/lib/flatpak</code> is a subvolume located at <code>/arkdep/shared/flatpak</code>.</li>
					</ul>
					<p>These directories are separate subvolumes which are subvolumes unique to each deployment;</p>
					<ul>
						<li><code>/etc</code> is writable and unique to each deployment.</li>
						<li><code>/var</code> is writable and unique to each deployment.</li>
					</ul>
					<h2>Operating system</h2>
					<p>The following changes are made to the operating system configuration to make it function in an immutable context.</p>
					<ul>
						<li>A patched version of the <code>libnss-extrausers</code> PAM module is included and enabled by default.</li>
						<li><code>shadow</code>, <code>passwd</code> and <code>group</code> files with system accounts are stored in <code>/usr/lib</code>, these are loaded by the <code>libnss-extrausers</code> PAM module.</li>
					</ul>
				</div>
			</div>
		</div>
	</body>
</html>
